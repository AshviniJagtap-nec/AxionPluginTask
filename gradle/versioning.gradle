ext.buildTimestamp = new Date().format('yyyy-MM-dd HH:mm:ss')

version = new ProjectVersion(1, 0, 0, System.env.BUILD_NUMBER)

class ProjectVersion {
	Integer major
	Integer minor
	Integer patch
	String build
	
		ProjectVersion(Integer major, Integer minor, Integer patch, String build){
			this.major = major
			this.minor = minor
			this.patch = patch
			this.build = build
		}
		
		@Override
		String toString(){
			String fullVersion = "$major.$minor.$patch"
			
			if (build){
				fullVersion += "-$build"
			}
			
			fullVersion
		}
}
